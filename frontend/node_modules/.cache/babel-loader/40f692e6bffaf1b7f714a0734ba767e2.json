{"ast":null,"code":"import _classCallCheck from\"/Users/msherman/Documents/Dev/test/Humana/humana-copy/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/msherman/Documents/Dev/test/Humana/humana-copy/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/msherman/Documents/Dev/test/Humana/humana-copy/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/msherman/Documents/Dev/test/Humana/humana-copy/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/msherman/Documents/Dev/test/Humana/humana-copy/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/msherman/Documents/Dev/test/Humana/humana-copy/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Card from'./Card';var MyPlans=/*#__PURE__*/function(_React$Component){_inherits(MyPlans,_React$Component);function MyPlans(props){var _this;_classCallCheck(this,MyPlans);_this=_possibleConstructorReturn(this,_getPrototypeOf(MyPlans).call(this,props));_this.addPlan=function(type){console.log('HIT');fetch('http://localhost:5000/users/5e69b32167dbfb1157c1becf/addplan',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:type})}).then(function(res){return res.json();}).then(function(plans){_this.setState({plans:plans});_this.genPlanCards();}).catch(function(err){return console.log(err);});};_this.select=_this.select.bind(_assertThisInitialized(_this));_this.state={plans:[],box:{}};_this.planCards=[];return _this;}_createClass(MyPlans,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:5000/users/5e69b32167dbfb1157c1becf/myplans\").then(function(res){return res.json();}).then(function(plans){_this2.setState({plans:plans});}).catch(function(err){return console.log(err);});this.genPlanCards();}},{key:\"genPlanCards\",value:function genPlanCards(){var cards=[];for(var i=0;i<this.state.plans.length;i++){cards.push(React.createElement(\"div\",{className:this.props.border},React.createElement(Card,{plan:this.state.plans[i],select:this.select}),this.props.toggle?this.props.button:\"\"));}this.planCards=cards;}},{key:\"select\",value:function select(plan){if(plan.name in this.state.box){delete this.state.box[plan.name];}else{this.state.box[plan.name]=plan._id;}}},{key:\"removePlans\",value:function removePlans(){var _this3=this;fetch(\"http://localhost:5000/users/5e69b32167dbfb1157c1becf/myplans\",{method:'delete',headers:{'Content-Type':'application/json'},body:JSON.stringify(this.state.box)}).then(function(res){return res.json();}).then(function(plans){_this3.setState({plans:plans});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this4=this;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"container mt-3\"},React.createElement(\"div\",{className:\"text-left mb-3\"},React.createElement(\"button\",{className:\"btn btn-outline-primary\",value:\"Health\",onClick:function onClick(e){return _this4.addPlan(e.target.value);}},\"Add Health\"),\"\\xA0\",React.createElement(\"button\",{className:\"btn btn-outline-primary\",value:\"Dental\",onClick:function onClick(e){return _this4.addPlan(e.target.value);}},\"Add Dental\"),\"\\xA0\",React.createElement(\"button\",{className:\"btn btn-outline-primary\",value:\"Vision\",onClick:function onClick(e){return _this4.addPlan(e.target.value);}},\"Add Vision\")),React.createElement(\"h3\",{className:\"text-left\"},\"Here are your active plans:\"),React.createElement(\"div\",{className:\"row\"},this.genPlanCards(),this.planCards),React.createElement(\"div\",{class:\"text-left mt-3\"},React.createElement(\"button\",{class:\"btn btn-outline-secondary\",onClick:function onClick(e){return _this4.removePlans();}},\"Remove Plans\"))));}}]);return MyPlans;}(React.Component);export default MyPlans;","map":{"version":3,"sources":["/Users/msherman/Documents/Dev/test/Humana/humana-copy/src/components/user/plans/MyPlans.js"],"names":["React","Card","MyPlans","props","addPlan","type","console","log","fetch","method","headers","body","JSON","stringify","name","then","res","json","plans","setState","genPlanCards","catch","err","select","bind","state","box","planCards","cards","i","length","push","border","toggle","button","plan","_id","e","target","value","removePlans","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Card from './Card'\n\nclass MyPlans extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.select = this.select.bind(this)\n        this.state = {\n            plans: [],\n            box: {}\n        }\n        this.planCards = []\n    }\n\n    componentDidMount() {\n        fetch(\"http://localhost:5000/users/5e69b32167dbfb1157c1becf/myplans\")\n            .then(res => res.json())\n            .then(plans => {\n                this.setState({\n                    plans: plans\n                })\n            })\n            .catch(err => console.log(err))\n            this.genPlanCards()\n    }\n\n    genPlanCards() {\n        let cards = []\n        for (let i = 0; i < this.state.plans.length; i++) {\n            cards.push(\n                <div className={this.props.border}>\n                    <Card plan={this.state.plans[i]} select={this.select} />\n                    {this.props.toggle ? this.props.button : \"\"}\n                </div>\n            )\n        }\n        this.planCards = cards\n    }\n\n    select(plan) {\n        if (plan.name in this.state.box) {\n            delete this.state.box[plan.name]\n        }else {\n             this.state.box[plan.name] = plan._id\n        }\n    }\n\n    addPlan = (type) => {\n        console.log('HIT')\n        fetch('http://localhost:5000/users/5e69b32167dbfb1157c1becf/addplan', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json',\n                },\n            body: JSON.stringify({name: type})\n        }).then(res => res.json())\n        .then(plans => {\n            this.setState({\n                plans: plans\n            })\n            this.genPlanCards()\n\n        })\n        .catch(err => console.log(err))\n    }\n\n    removePlans() {\n        fetch(\"http://localhost:5000/users/5e69b32167dbfb1157c1becf/myplans\", { \n            method: 'delete', \n            headers: {\n            'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(this.state.box)\n        }).then(res => res.json())\n        .then(plans => {\n            this.setState({\n                plans: plans\n            })\n        })\n        .catch(err => console.log(err))\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"container mt-3\">\n                    <div className=\"text-left mb-3\">\n                        <button className=\"btn btn-outline-primary\" value=\"Health\" onClick={(e) => this.addPlan(e.target.value)}>Add Health</button>&nbsp;\n                        <button className=\"btn btn-outline-primary\" value=\"Dental\" onClick={(e) => this.addPlan(e.target.value)}>Add Dental</button>&nbsp;\n                        <button className=\"btn btn-outline-primary\" value=\"Vision\" onClick={(e) => this.addPlan(e.target.value)}>Add Vision</button>\n                    </div>\n                    <h3 className=\"text-left\">Here are your active plans:</h3>\n                    <div className=\"row\">\n                        {this.genPlanCards()}\n                        {this.planCards}\n                    </div>\n                    <div class=\"text-left mt-3\">\n                        <button class=\"btn btn-outline-secondary\" onClick={e => this.removePlans()}>Remove Plans</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MyPlans"]},"metadata":{},"sourceType":"module"}